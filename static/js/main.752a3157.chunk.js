(this["webpackJsonpdd-react-lib-example"]=this["webpackJsonpdd-react-lib-example"]||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);a(83);var n=a(0),r=a.n(n),o=a(10),i=a.n(o),l=a(28),c=a(143),s=a(158),u=a(148),m=a(62),d=(a(98),a(99),a(63)),g=a.n(d),h=a(48),f=a(160),p=a(153),b=a(151),y=a(156),v=a(152),E=a(159),j=a(149),C=a(154),O=a(157),w=a(67),k=a.n(w),S=a(53),L=a(150),D="_3ybTi",M="_1cZp5",A="_29j6o",T=Object(c.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function N(e){var t=T(),a=Object(n.useState)("info"),o=a[0],i=a[1],l=Object(n.useState)(""),c=l[0],m=l[1],d=Object(n.useState)(""),g=d[0],h=d[1],f=Object(n.useState)(e.show),p=f[0],b=f[1],y=function(){var e=document.getElementById(E());e&&e.removeEventListener("dd-alert-event")},v=function(e){var t=e.detail;i(t.alert),m(t.title),h(t.message),b(!0),t.timeout>0&&setTimeout((function(){b(!1)}),t.timeout)},E=function(){return e.id||"DDAlert"};return Object(n.useEffect)((function(){var e=document.getElementById(E());return e&&(e.addEventListener("dd-alert-event",v),e.addEventListener("click",(function(){return b(!1)}))),y}),[]),r.a.createElement("div",{id:E(),className:M+(p?"":" "+A)},r.a.createElement("div",{className:t.root},r.a.createElement(s.a,{severity:o},r.a.createElement(u.a,null,c),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:g}}))))}function P(e){var t=document.getElementById(e.id||"DDAlert");t&&t.dispatchEvent(new CustomEvent(e.type,{detail:e}))}function R(e){P({id:e.id,type:"dd-alert-event",alert:"error",title:e.title,message:e.message,timeout:e.timeout})}function x(e){P({id:e.id,type:"dd-alert-event",alert:"info",title:e.title,message:e.message,timeout:e.timeout})}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function B(e){var t=e.className,a=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["className"]),o=Object(n.useState)(null),i=o[0],l=o[1],c=function(e){if(a.dataPath){var t={id:e.data.id},n=e.value,r=e.colDef.field;t[r]=n,"object"===e.colDef.type&&(t[r]={id:1*n});var o="PUT";null===t.id&&(t=e.data,o="POST"),fetch(a.dataPath,{method:o,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){t.code&&t.code/100!==2?R({title:e.colDef.headerName,message:t.message}):(e.node.setData(t),e.api.refreshCells({force:!0,rowNodes:[e.node]}))})).catch((function(t){R({title:e.colDef.headerName,message:t.message||"Error on update"})}))}},s=function(e){return(e.schemes||[]).map((function(e){var t,n=(t=e.field,function(e){if(!e)return"";var a=t;return Array.isArray(e[a])?e[a].length+" element"+(e[a].length>1?"s":""):e[a]&&"object"===typeof e[a]?e[a].id:e[a]});return e.formatter=n,e.cellRenderer=function(e){return n(e.data)},a.columnMapper?a.columnMapper(e):e}))},u=function(e){var t="";if(e)for(var a in e)t=""===t?a+"="+e[a]:t+"&"+a+"="+e[a];return(""!==t?"?":"")+t},d=function(e,t,n){void 0===t&&(t=-1),void 0===n&&(n=-1);var r={};return r.page=""+t,r.perPage=""+n,function(e,t){var n=""+(a.dataSearchPath||a.dataPath),r="POST";t&&(n=""+n+u(t));a.dataSearchPath||(r="GET");var o={method:r};return"POST"===r&&(o.body=JSON.stringify(e),o.headers={"Content-Type":"application/json",Accept:"application/json"}),fetch(n,o).then((function(e){return e.json()}))}(e,I({},r,a.params||{}))},g=function(){return{getRows:function(e){var t=e.endRow/100,n=[],r=e.filterModel;for(var o in a.filterModel&&(r=Object.assign({},r,a.filterModel)),r)r.hasOwnProperty(o)&&n.push(o);var l={filterModel:r,sortModel:e.sortModel};(n.length||e.sortModel.length?d(l,t,100):function(e,t){void 0===e&&(e=-1),void 0===t&&(t=-1);var n=""+a.dataPath+u(I({page:e,perPage:t},a.params||{}));return fetch(n,{headers:{Accept:"application/json"}}).then((function(e){return e.json()}))}(t,100)).then((function(t){console.log("page",t);var a=(t.page-1)*t.pageSize+(t.entities||[]).length;i&&i.setInfiniteRowCount(Math.max(a,t.totalEntityCount)),e.successCallback(t.entities||[],Math.max(a,t.totalEntityCount))})).catch((function(t){console.log(t),e.failCallback()}))}}};return Object(n.useEffect)((function(){a.columnsPath&&function(){if(i){var e=""+a.columnsPath+u();fetch(e,{headers:{Accept:"application/json"}}).then((function(e){return console.log(e),e.json()})).then((function(e){if(console.log("result",e),e.code&&e.code/100!==2)throw Error(e.message);var t=s(e);console.log("columns",t),i&&i.setColumnDefs(t)})).catch((function(e){console.log("error",e)}))}}()}),[i]),r.a.createElement("div",{className:t||"ag-theme-alpine",style:I({},a.style)},r.a.createElement(m.AgGridReact,{onGridReady:function(e){l(e.api),a.onGridReady&&a.onGridReady(e),e.api&&a.dataPath&&e.api.setDatasource(g())},rowData:a.rows,columnDefs:a.columns,animateRows:a.animateRows,enableCellChangeFlash:a.enableCellChangeFlash,enableColResize:a.enableColResize,rowModelType:a.rowModelType,onCellValueChanged:function(e){a.onCellValueChanged?a.onCellValueChanged(e):c(e)}}))}function W(e){console.log("----DDChart----");var t=Object(n.useState)(null),a=t[0],o=t[1],i=Object(n.useRef)(null),l=function(){console.log("-----destroyApi-----"),a&&a.destroy()},c=function(t){return"function"===typeof e.accumulator?e.accumulator(t):Array.isArray(t)?t.length:t},s=function(t,a){if("function"===typeof e.getLabelColor)return e.getLabelColor(t,a);if(Array.isArray(e.getLabelColor))return e.getLabelColor;if(a){var n={r:Math.ceil(255*Math.random()),g:Math.ceil(255*Math.random()),b:Math.ceil(255*Math.random()),a:.2};return t.map((function(e){return n}))}return t.map((function(e){return{r:Math.ceil(255*Math.random()),g:Math.ceil(255*Math.random()),b:Math.ceil(255*Math.random()),a:.2}}))};return Object(n.useEffect)((function(){var t=Object.assign({scales:{yAxes:[{ticks:{beginAtZero:!0}}]},onClick:function(t,a){0!==(a||[]).length&&e.onClick&&e.onClick(t,a)},onHover:function(t){t.target.style.cursor="pointer",e.onHover&&e.onHover(t)}},e.options||{});console.log("--- options --- ",t);var a=Array.isArray(e.labelKey)?e.labelKey:[e.labelKey],n=e.data,r=a[0],u=function(t,a){if("function"===typeof e.getLabels)return e.getLabels(t);if(Array.isArray(e.getLabels))return e.getLabels;var n=h.a.groupBy(t,a);return Object.keys(n)}(n,r),m=[],d=function(t,n,o){var i=function(t,a,n){if("function"===typeof e.getData)return e.getData(t,a);if(Array.isArray(e.getData))return e.getData;var r=h.a.groupBy(t,a);return n?n.map((function(e){var t=r[e]||[];return c(t)})):Object.values(r).map(c)}(t,r,u),l=function(t){return t?t.map((function(t){return t.a=e.backgroundOpacity||.2,"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"})):t}(o),s=function(t){return t?t.map((function(t){return t.a=e.borderOpacity||1,"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"})):t}(o),m={label:(a[1]&&"string"===typeof a[1]?a[1]+" / ":"")+("string"===typeof n?n:"#"),data:i,borderWidth:e.borderWidth||1};return l&&(m.backgroundColor=l),s&&(m.borderColor=s),m};if(1===a.length){var f=s(u),p=d(n,r,f);m.push(p)}else{var b=a[1],y=h.a.groupBy(n,b);m=Object.keys(y).map((function(e){var t=s(u,e);return d(y[e],e,t)}))}console.log("--- datasets --- ",m);var v=new g.a(i.current,{type:e.type||"bar",data:{labels:u,datasets:m},options:t});return o(v),e.onChartReaddy&&e.onChartReaddy(v),l}),[e.data]),r.a.createElement("canvas",{ref:i,height:e.height,width:e.width})}function G(e){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:e.copyrightLink},e.copyrightTitle)," ",(new Date).getFullYear(),".")}var J=Object(c.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function K(e){var t=e.username||"",a=e.password||"",o=e.rememberMe||!1,i=Object(n.useState)(t),l=i[0],c=i[1],s=Object(n.useState)(a),u=s[0],m=s[1],d=Object(n.useState)(o),g=d[0],h=d[1],w=J();return r.a.createElement(L.a,{component:"main",maxWidth:"xs"},r.a.createElement(b.a,null),r.a.createElement("div",{className:w.paper},e.avatar&&r.a.createElement(f.a,{className:w.avatar,src:e.avatar,alt:"Logo"}),!e.avatar&&r.a.createElement(f.a,{className:w.avatar,src:e.avatar,alt:"Logo"},r.a.createElement(k.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:w.form,noValidate:!0,onSubmit:function(t){var a;t.preventDefault();var n=((a={})[e.usernameKey||"username"]=l,a[e.passwordKey||"password"]=u,a[e.rememberMeKey||"rememberMe"]=g,a);if(console.log("value",n),e.onSubmit&&e.onSubmit(n),e.authLink){var r=JSON.stringify(n);fetch(e.authLink,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:r}).then((function(e){return e.json()})).then((function(t){t.code&&400===t.code?"function"===typeof e.onError?e.onError(t):R({title:"Login Error",message:t.message}):("function"===typeof e.onSuccess?e.onSuccess(t):R({title:"Login Error",message:t.message}),console.log("--- response --- ",t))})).catch((function(t){"function"===typeof e.onError?e.onError(t):R({title:"Login Error",message:t.message||JSON.stringify(t)})}))}}},r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Username",name:"username",autoComplete:"email",autoFocus:!0,value:l,onChange:function(e){return c(e.target.value)}}),r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:u,onChange:function(e){return m(e.target.value)}}),r.a.createElement(v.a,{control:r.a.createElement(E.a,{color:"primary",checked:g,value:g,onChange:function(e){return h(e.target.checked)}}),label:"Remember me"}),r.a.createElement(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:w.submit},"Sign In"),r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(j.a,{href:e.forgotLink?e.forgotLink:"#",variant:"body2"},"Forgot password?")),r.a.createElement(C.a,{item:!0},r.a.createElement(j.a,{href:e.signUpLink?e.signUpLink:"#",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(O.a,{mt:8},r.a.createElement(G,{copyrightLink:e.copyrightLink,copyrightTitle:e.copyrightTitle})))}var U=function(e){var t=e.text;return r.a.createElement("div",{className:D},"Example Component: ",t)},_=a(68),F=a(155),Y=a(47),z=a(46),H=a(52);a(106);const V=Object(c.a)(e=>({margin:{margin:e.spacing(1)}}));var q=()=>{const e=[{field:"col1",headerName:"Column 1",width:250},{field:"col2",headerName:"Column 2",width:150,resizable:!0}],t=[{id:1,col1:"Hello",col2:"World"},{id:2,col1:"XGrid",col2:"is Awesome"},{id:3,col1:"Material-UI",col2:"is Amazing"}],a=Object(n.useState)([]),o=Object(l.a)(a,2),i=o[0],c=o[1],s=Object(n.useState)(!0),u=Object(l.a)(s,2),m=u[0],d=u[1],g=Object(n.useState)(!0),h=Object(l.a)(g,2),f=h[0],b=h[1],y=Object(n.useState)(!1),v=Object(l.a)(y,2),j=v[0],C=v[1],O=Object(n.useState)(!0),w=Object(l.a)(O,2),k=w[0],S=w[1],D=Object(n.useState)(!1),M=Object(l.a)(D,2),A=M[0],T=M[1];Object(n.useEffect)(()=>{x({title:"This is an info",message:"I'm the best for ever...",timeout:1e3}),fetch("/users.json").then(e=>e.json()).then(e=>c(e.entities))},[]);const I=Object(_.a)({palette:{primary:Y.a,secondary:z.a}}),G=e=>"MALE"===e.gender?"Male":"Female",J=e=>H(e.createDate).format("YYYY-MM-DD")||"Unknown",q=V();return r.a.createElement(L.a,null,r.a.createElement(N,{show:!0}),r.a.createElement(U,{text:"Djamma Dev React Library Example \ud83d\ude04"}),r.a.createElement(F.a,{theme:I},r.a.createElement(p.a,{variant:"contained",color:"secondary",className:q.margin,onClick:e=>{console.log("----"),x({title:"This is an info notification",message:"I'm the best for ever...",timeout:5e3})}},"Alert Info")),r.a.createElement(F.a,{theme:I},r.a.createElement(p.a,{variant:"contained",color:"primary",className:q.margin,onClick:e=>{var t;console.log("----"),P({id:(t={title:"This is a success notification",message:"I'm the best for ever...",timeout:5e3}).id,type:"dd-alert-event",alert:"success",title:t.title,message:t.message,timeout:t.timeout})}},"Alert Success")),r.a.createElement("h2",null,"Auto load data",r.a.createElement(E.a,{checked:m,value:m,onChange:e=>d(e.target.checked)})),m&&r.a.createElement(B,{rowModelType:"infinite",columnsPath:"descriptions/user.json",dataPath:"users.json",columns:e,rows:t,columnMapper:e=>{let t=Object.assign({},e);return t.type={String:"text",Integer:"number",Short:"number",Long:"number",Double:"number",Date:"date",List:"array"}[t.type]||t.type,t},style:{height:300,width:"100%",marginBottom:20}}),r.a.createElement("h2",null,"Passing data from parent",r.a.createElement(E.a,{checked:f,value:f,onChange:e=>b(e.target.checked)})),f&&r.a.createElement(B,{onGridReady:a=>{a.api.setRowData(t),a.api.setColumnDefs(e)},columns:e,rows:t,style:{height:300,width:"100%",marginBottom:20}}),r.a.createElement("h2",null,"Chart Js",r.a.createElement(E.a,{checked:j,value:j,onChange:e=>C(e.target.checked)})),j&&r.a.createElement(W,{labelKey:"votes",getLabels:e=>["Red","Blue","Yellow","Green","Purple","Orange"],getData:e=>[12,19,3,5,2,3],getLabelColor:e=>[{r:255,g:99,b:132,a:.2},{r:54,g:162,b:235,a:.2},{r:255,g:206,b:86,a:.2},{r:75,g:192,b:192,a:.2},{r:153,g:102,b:255,a:.2},{r:255,g:159,b:64,a:.2}],height:100,width:400}),r.a.createElement("h2",null,"Chart With Data",r.a.createElement(E.a,{checked:k,value:k,onChange:e=>S(e.target.checked)})),k&&r.a.createElement(W,{type:"bar",labelKey:[J,G],backgroundOpacity:.4,borderOpacity:1,borderWidth:1,data:i,options:{responsive:!0,plugins:{},animation:{duration:2e3,easing:"easeOutQuart"},tooltips:{callbacks:{}}},onClick:(e,t)=>{let a=(t||[]).map(e=>({datasetLabel:e._model.datasetLabel,label:e._model.label}));console.log(e,t,a);let n=i.filter(e=>a.reduce((t,a)=>t||a.datasetLabel===G(e)&&a.label===J(e),!1));console.log("clickedData",n)},height:200,width:400}),r.a.createElement("h2",null,"Show Sign In",r.a.createElement(E.a,{checked:A,value:A,onChange:e=>T(e.target.checked)})),A&&r.a.createElement(K,{authLink:"/api/auth",onSuccess:e=>console.log("--- e ---",e),onError:e=>R({title:"Login Error",message:e.message||JSON.stringify(e)}),copyrightLink:"https://www.djammadev.com",copyrightTitle:"Djamma Dev"}))};i.a.render(r.a.createElement(q,null),document.getElementById("root"))},82:function(e,t,a){e.exports=a(107)},83:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.752a3157.chunk.js.map